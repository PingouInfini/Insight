<div class="h-100 w-100 side-container">
    <div class="side-title">
        <h4>
            <fa-icon [icon]="'search'"></fa-icon>
            <b> Search</b>
        </h4>
    </div>
    <div class="side-main side-element">
        <div class="tools" style="flex: 0 1 5%; min-height: 2.5rem;">
            <span title="Rechercher dans l'index GeoRef" (click)="sendAction('SEARCH_GEOREF')"
                  [ngClass]="{'selected': (mapStates.SEARCH_GEOREF)}"><fa-icon
                [icon]="'globe'"></fa-icon></span>
            <span title="Rechercher dans les entitÃ©s" (click)="sendAction('SEARCH_INDICES')"
                  [ngClass]="{'selected': (!mapStates.SEARCH_GEOREF)}"><fa-icon
                [icon]="'search'"></fa-icon></span>
        </div>
        <div class="side-inline-form" style="flex: 0 1 5%; min-height: 2.5rem;">
            <div class="side-input-container">
                <input type="text" [formControl]="searchForm" class="form-control-sm" placeholder="ex: Paris..."
                       (keyup.enter)="onEnter($event)"/>
            </div>
        </div>

        <div class="side-list-container" style="flex: 1 1 auto;" *ngIf="currentResult">
            <div *ngFor="let result of currentResult;">
                <span *ngIf="result.properties && result.properties['ADDED_TO_MAP']; else notOnMap">
                    <fa-icon (click)="pinnedFeature(result)" [icon]="'map-marker'"
                             [style.color]="pinnedIds.indexOf(result.id) !== -1 ? 'red' : 'inherit'"></fa-icon>
                    <span (click)="zoomToFeature(result.id)" style="cursor: pointer;"> {{result.label}}</span>
                </span>

                <ng-template #notOnMap>
                    <fa-icon [icon]="'map-marker'"
                             (click)="pinnedFeature(result, true)"
                             [style.color]="pinnedIds.indexOf(result.id) !== -1 ? 'red' : '#6c757d'"></fa-icon>
                    <span [style.color]="'#a0a6ac'"> {{result.label}}</span>
                </ng-template>
            </div>
        </div>
    </div>

</div>
